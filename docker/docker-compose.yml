version: '3'
services:
  ros-master:
    image: gramaziokohler/ros-base:19.11
    container_name: ros-master
    ports:
      - "11311:11311"
    command:
      - roscore

#  gui:
#    image: gramaziokohler/novnc:latest
#    container_name: rviz
#    ports:
#      - "8080:8080"

  rk_application:
    image: robot-kinematics:0.5
    container_name: rk_application
    environment:
      - ROS_MASTER_URI=http://ros-master:11311
    depends_on:
      - ros-master
    tty: true
    command:
      - /run_rk.sh